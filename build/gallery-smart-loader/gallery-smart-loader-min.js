YUI.add("gallery-smart-loader",function(e){var c=e.Array,f=e.use,b=e.Env.meta.comboBase,d=e.Env.meta.root,a=e.Env._loader;e.smartUse=function(){var g=Array.prototype.slice.call(arguments,0),h=g[g.length-1];if(e.Lang.isFunction(h)){g.pop();}else{h=null;}};e.getDependents=function(g){var h={},i,j=[];c.each(g,function(k){i=a.getRequires(a.getModule(k));e.mix(h,c.hash(i));});j=e.Object.keys(h);return j;};e.getDependentInfos=function(g){var i=e.getDependents(g),h={};c.each(i,function(j){h[j]=a.getModule(j);});return h;};e.getLoadUrls=function(g){var h=e.getDependentInfos(g),k=[],j=[];e.Array.each(g,function(l){h[l]=a.getModule(l);if(!h[l]){throw new Error("undefined module "+l);}});e.Object.each(h,function(m,l){if(m.path){j.push(d+m.path);}else{k.push(m.fullpath);}});var i=b+j.join("&");k.unshift(i);return k;};e.fetch=function(g,k){var j,i=[],h;e.Array.each(g,function(l){if(!YUI.Env.mods[l]){i.push(l);}});h=i.length;if(!h){f.call(e,k);}else{j=e.getLoadUrls(i);e.Array.each(j,function(l){e.Get.script(l,{onEnd:function(){--h;if(!h){f.call(e,k);}}});});}};},"@VERSION@");